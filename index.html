<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EylÃ¼lÃ¼ â€” Ä°kimizin KasÄ±mÄ± </title>
<style>
  :root{
    --bg: #4a5c8c; 
    --card-bg: rgba(70, 85, 120, 0.96); 
    --accent: #ff69b4; 
    --muted: rgba(255,255,255,0.95); 
    --text-strong: #fff;
    --note-bg: rgba(0,0,0,0.3); 
    
    --header-bg: rgba(70, 85, 120, 0.6); 
  }

  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  
  body{
    background: radial-gradient(1200px 600px at 10% 10%, #6f80b8 0%, var(--bg) 35%),
                radial-gradient(800px 500px at 90% 90%, rgba(90,105,140,0.6) 0%, transparent 30%);
    color:var(--muted);
    overflow:hidden;
    
    display:flex; 
    justify-content: center; 
    align-items: center;     
    padding: 0 2.5%; 
    
    transform: translateY(-5%); 
  }
  
  #flowerWrap{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    pointer-events:none; 
    transform: translateY(3%); 
  }
  canvas{width:100vw;height:100vh;display:block;}

  
  .card-container {
    position: relative;
    z-index: 40;
    width: calc(100% - 5%);
    max-width: 480px;
    pointer-events: none; 
    display: flex;
    flex-direction: column;
    align-items: center; 
  }

  .card{
    pointer-events:auto; 
    width: 100%; 
    background: var(--header-bg); 
    border: 1px solid rgba(255,255,255,0.2); 
    border-radius:18px;
    box-shadow:0 8px 30px rgba(0,0,0,0.7); 
    padding:28px;
    margin-bottom: 10px; 
    text-align: center; 
  }

  .header{
    display:flex;
    gap:16px;
    align-items:center;
    justify-content: center; 
    flex-direction: column; 
  }
  .header .logo {
      margin-bottom: 15px; 
  }
  .logo{
    width:84px;height:84px;border-radius:50%;flex:0 0 84px;
    display:flex;align-items:center;justify-content:center;
    background:linear-gradient(135deg,var(--accent),#e91e63);
    box-shadow:0 6px 18px rgba(233,30,99,0.4), 0 2px 6px rgba(0,0,0,0.5);
  }
  .logo svg{width:52px;height:52px;transform:rotate(-12deg);}

  h1{margin:0;font-size:22px;color:var(--text-strong); font-weight: 700;}
  p.lead{margin:6px 0 0;color:var(--muted);font-size:14px; font-weight: 500;}
  .note-content{
    font-size:16px;
    color:var(--muted);
    line-height:1.5;
    white-space:pre-wrap;
    text-align: left; 
  }

  .controls{
    display:flex;gap:12px;align-items:center;margin-top:18px;

    justify-content: center; 
  }
  .btn{
    appearance:none;border:0;padding:10px 14px;border-radius:10px;
    cursor:pointer;font-weight:600;background:linear-gradient(180deg, #ffffff, #f0f0f0);
    color:#111;box-shadow:0 6px 18px rgba(2,6,23,0.35);
    transition: transform 0.1s, box-shadow 0.1s;
    pointer-events:auto;
  }
  .btn:active{
    transform: translateY(1px);
    box-shadow:0 4px 10px rgba(2,6,23,0.35);
  }
  .btn-ghost{
    background:transparent;border:1px solid rgba(255,255,255,0.25);
    color:var(--muted);
    box-shadow:none;
  }

  .note-box{
    width: 100%; 
    position: absolute; 
    bottom: -150px; 
    left: 50%;
    transform: translateX(-50%); 
    max-width: 480px; 
    
    background: var(--note-bg); 
    backdrop-filter: blur(4px); 
    padding:16px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,0.15);
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    display:none;
    z-index: 35;
    pointer-events:auto;
  }

  .sparkle{
    position:fixed;z-index:30;pointer-events:none;
    inset:auto;width:200px;height:200px;mix-blend-mode:screen;opacity:1;
  }
  .sparkle.one{left:-50px;top:-40px;background:radial-gradient(circle at 30% 30%, rgba(255,105,180,0.5), transparent 35%);}
  .sparkle.two{right:-50px;bottom:-50px;background:radial-gradient(circle at 70% 70%, rgba(233,30,99,0.4), transparent 35%);}


  @media (max-width:768px){ 
    body{
      justify-content: center; 
      padding: 20px 0; 
      align-items: flex-start; 
      overflow-y: auto; 
      transform: translateY(0); 
    }
    
    .card-container {
      width: 90%; 
      max-width: 90%;
      margin: 0 auto; 
      pointer-events: auto; 
    }

    .card{
      margin-bottom: 15px; 
      padding:18px;
      border-radius:14px;
    }

    .note-box{
      position: static; 
      margin-top: 15px; 
      transform: none; 
      left: auto;
      bottom: auto;
    }
    
    #flowerWrap{
      transform: translateY(0); 
    }

    .logo{width:64px;height:64px;flex:0 0 64px}
    h1{font-size:20px}
  }
</style>
</head>
<body>
<div id="flowerWrap">
  <canvas id="flowerCanvas"></canvas>
</div>

<div class="sparkle one"></div>
<div class="sparkle two"></div>

<div class="card-container">
    <main class="card" role="main" aria-labelledby="title">
      <div class="header">
        <div class="logo" aria-hidden="true">
          <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <g transform="translate(2,2)" stroke="#fff" stroke-opacity="0.06" stroke-width="0.7"/>
            <g transform="translate(4,4)">
              <circle cx="28" cy="28" r="5" fill="#fff" opacity="0.95"/>
              <g id="miniPetals" fill="#fff" opacity="0.95">
                <path d="M28 9c3 6 12 3 12 3s-5 7-2 12c-8-3-10 4-10 4s-2-8-10-4c3-5-2-12-2-12s9 3 12-3z" transform="scale(.55) translate(20,18)"/>
              </g>
            </g>
          </svg>
        </div>
        <div>
          <h1 id="title">Ä°kimizin KasÄ±mÄ±</h1>
          <p class="lead">Ä°lk KasÄ±m, ilk kasÄ±mpatÄ±, ama ne son KasÄ±m ne de son kasÄ±mpatÄ±. Birlikte geÃ§irdiÄŸimiz ilk anlar, ilk gÃ¼lÃ¼ÅŸÃ¼n, ilk buluÅŸmamÄ±z, ilk sarÄ±lmamÄ±z... Hepsi kasÄ±mpatÄ± kadar gÃ¼zeldi ve hepsi bu Ã§iÃ§eÄŸin yapraklarÄ±nda yaÅŸÄ±yor.</p>
        </div>
      </div>

      <div class="controls" role="toolbar" aria-label="Kontroller">
        <button class="btn btn-ghost" id="toggleNote">Notu GÃ¶ster ğŸ¤</button>
      </div>
    </main>

    <div class="note-box" id="noteBox" role="region" aria-live="polite">
      <div class="note-content" id="noteText">
Sevgili Minik Bebek,

KasÄ±m'Ä±mÄ±z bitiyor. Bu bizim ilk KasÄ±m'Ä±mÄ±z olabilir ama asla son deÄŸil, Ã¶nÃ¼mÃ¼zdeki onlarca KasÄ±m'dan sadece biri. Åu an aramÄ±zda kilometreler olsa da Ã§ok az kaldÄ±. Ã–nÃ¼mÃ¼zdeki KasÄ±m, bu Ã§iÃ§eÄŸin gerÃ§eÄŸini sana vermek dileÄŸiyle... Minik sevgilim, seni 25-9-3 seviyorum. GÃ¼zel sevgilim, iyi ki benimsin ğŸ¤
      </div>
    </div>
</div>


<script>


const canvas = document.getElementById('flowerCanvas');
const ctx = canvas.getContext('2d', { alpha: true });
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;

window.addEventListener('resize', ()=>{ 
    W = canvas.width = innerWidth; 
    H = canvas.height = innerHeight; 
    if (blooming) buildFlower(W/2, H/2, 48); 
});


class Petal {
  constructor(opts){
    this.cx = opts.cx; this.cy = opts.cy;
    this.angle = opts.angle; 
    this.radius = opts.radius; 
    this.length = opts.length;
    this.width = opts.width;
    this.color = opts.color;
    this.phase = opts.phase || 0;
    this.growth = 0; 
    this.v = opts.v || (0.6 + Math.random()*0.8);
    this.spin = (Math.random()-0.5)*0.03;
  }
  update(dt){
    if (this.growth < 1) this.growth += dt*this.v*0.6;
    this.phase += dt*0.8;
    this.angle += this.spin; 
    this.radius += Math.sin(this.phase)*0.05; 
  }
  draw(ctx){
    ctx.save();
    ctx.translate(this.cx, this.cy);
    ctx.rotate(this.angle);
    const g = ctx.createLinearGradient(0,0,this.length,0);
    g.addColorStop(0, this.color);
    g.addColorStop(1, 'rgba(255,255,255,0.08)');
    ctx.fillStyle = g;
    const l = this.length * easeOutCubic(Math.min(1,this.growth));
    const w = this.width * (0.6 + 0.4*Math.sin(this.phase));
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(l*0.25, -w, l*0.8, -w*0.8, l, 0);
    ctx.bezierCurveTo(l*0.8, w*0.8, l*0.25, w, 0, 0);
    ctx.closePath();
    ctx.globalAlpha = 0.98;
    ctx.fill();
    ctx.restore();
  }
}


class DriftPetal {
  constructor(x,y,color){
    this.x = x; this.y = y;
    this.size = 8 + Math.random()*12;
    this.angle = Math.random()*Math.PI*2;
    this.speed = 20 + Math.random()*60;
    this.vx = (Math.random()-0.5)*20;
    this.vy = 10 + Math.random()*30;
    this.color = color;
    this.life = 8 + Math.random()*8;
  }
  update(dt){
    this.x += this.vx * dt;
    this.y += this.vy * dt;
    this.angle += 0.6 * dt;
    this.life -= dt;
  }
  draw(ctx){
    ctx.save();
    ctx.translate(this.x,this.y);
    ctx.rotate(this.angle);
    ctx.fillStyle = this.color;
    ctx.globalAlpha = Math.max(0, this.life / 8); 
    ctx.beginPath();
    ctx.ellipse(0,0,this.size*0.6,this.size,0,0,Math.PI*2);
    ctx.fill();
    ctx.restore();
  }
}

function easeOutCubic(t){ return 1 - Math.pow(1-t,3); }

let petals = [];
let drifts = [];
let lastTime = performance.now();

const palette = [
  '#ff69b4', 
  '#ffb3c1', 
  '#e91e63', 
  '#c2185b'  
];

function buildFlower(cx,cy,petalCount=36){
  petals = [];
  const maxR = Math.min(W,H) * 0.16; 
  for(let i=0;i<petalCount;i++){
    const a = (i / petalCount) * Math.PI * 2;
    const r = maxR * (0.22 + Math.random()*0.7);
    const len = maxR * (0.8 + Math.random()*0.5);
    const w = Math.max(8, Math.min(36, len*0.12 * (0.8+Math.random()*0.6)));
    const color = palette[i % palette.length];
    const p = new Petal({cx,cy,angle:a,radius:r,length:len,width:w,color,phase:Math.random()*6});
    petals.push(p);
  }
}

let blooming = false;
function bloom(){
  blooming = true;
  const cx = W/2;
  const cy = H/2; 
  buildFlower(cx,cy,48);
  for(let i=0;i<18;i++){
    const x = W * Math.random();
    const y = H * Math.random();
    drifts.push(new DriftPetal(x, y, palette[Math.floor(Math.random()*palette.length)]));
  }
}

function spawnDrift(){
  const topX = W * Math.random();
  const topY = -20;
  drifts.push(new DriftPetal(topX, topY, palette[Math.floor(Math.random()*palette.length)]));
  if(drifts.length > 80) drifts.splice(0, drifts.length-80);
}

function step(now){
  const dt = Math.min(0.04, (now - lastTime)/1000);
  lastTime = now;
  ctx.clearRect(0,0,W,H);

  const flowerCenterX = W/2;
  const flowerCenterY = H/2; 
  
  const gx = ctx.createRadialGradient(flowerCenterX, flowerCenterY, 20, flowerCenterX, flowerCenterY, Math.max(W,H)*0.6);
  gx.addColorStop(0, 'rgba(255,105,180,0.25)');
  gx.addColorStop(0.25, 'rgba(233,30,99,0.1)');
  gx.addColorStop(1, 'rgba(11,16,32,0.0)');
  ctx.fillStyle = gx;
  ctx.fillRect(0,0,W,H);

  for(let p of petals){
    p.cx = flowerCenterX + Math.cos(p.angle) * (p.radius);
    p.cy = flowerCenterY + Math.sin(p.angle) * (p.radius * 0.6);
    p.update(dt);
    p.draw(ctx);
  }

  for(let i = drifts.length-1; i>=0; i--){
    let d = drifts[i];
    d.update(dt);
    d.draw(ctx);
    if(d.y > H + 40 || d.x < -60 || d.x > W+60 || d.life <= 0) drifts.splice(i,1);
  }

  if(Math.random() < 0.015) spawnDrift();

  requestAnimationFrame(step);
}

bloom();
requestAnimationFrame(step);

const noteBtn = document.getElementById('toggleNote');
const noteBox = document.getElementById('noteBox');

noteBtn.addEventListener('click', ()=>{
  const isHidden = noteBox.style.display === 'none' || noteBox.style.display === '';
  if(isHidden){ 
    noteBox.style.display = 'block'; 
    noteBtn.textContent = 'Notu Gizle';
  }
  else { 
    noteBox.style.display = 'none'; 

    noteBtn.textContent = 'Notu GÃ¶ster ğŸ¤';
  }
});


(function loadNoteFromURL(){
  const params = new URLSearchParams(location.search);
  const n = params.get('note');
  if(n){
    const txt = decodeURIComponent(n);
    document.getElementById('noteText').textContent = txt;
    document.getElementById('noteBox').style.display = 'block';
    document.getElementById('toggleNote').textContent = 'Notu Gizle';
  }
})();

</script>
</body>
</html>
